{% extends "admin/base_site.html" %}

{% block content %}
<div style="max-width: 600px; margin: 50px auto;">
    <h1>Import Bot Q&As from CSV</h1>
    
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h3>CSV Format Requirements:</h3>
        <p>Your CSV file must have the following columns:</p>
        <ul>
            <li><strong>question</strong> - The question text (use | to separate variations)</li>
            <li><strong>answer</strong> - The bot's response</li>
            <li><strong>category</strong> - One of: general, strategy, risk, challenge, technical, signals, journal, replay</li>
            <li><strong>keywords</strong> - Comma-separated keywords (optional)</li>
            <li><strong>priority</strong> - Number 0-100 (default: 0)</li>
            <li><strong>is_active</strong> - True or False (default: True)</li>
        </ul>
        
        <h4>Example CSV:</h4>
        <pre style="background: white; padding: 10px; border: 1px solid #ddd;">question,answer,category,keywords,priority,is_active
"What is trend following?|Explain trend trading","Trend following is a strategy that...",strategy,"trend,strategy",50,True
"How do I setup a challenge?","Visit the Challenge Setup page...",challenge,"challenge,setup,prop",30,True</pre>
    </div>
    
    <form method="post" enctype="multipart/form-data" style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        {% csrf_token %}
        
        <div style="margin-bottom: 20px;">
            <label for="csv_file" style="display: block; margin-bottom: 8px; font-weight: bold;">
                Select CSV File:
            </label>
            <input type="file" 
                   name="csv_file" 
                   id="csv_file" 
                   accept=".csv" 
                   required
                   style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 100%;">
        </div>
        
        <div style="display: flex; gap: 10px;">
            <button type="submit" 
                    name="apply" 
                    style="background: #0d6efd; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">
                Import Q&As
            </button>
            <a href="{% url 'admin:bot_botqa_changelist' %}" 
               style="background: #6c757d; color: white; padding: 10px 20px; border-radius: 4px; text-decoration: none; display: inline-block;">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}
